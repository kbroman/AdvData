\documentclass[aspectratio=169,12pt,t]{beamer}

\usepackage{graphicx}
\setbeameroption{hide notes}
\setbeamertemplate{note page}[plain]
\usepackage{listings}

\input{../LaTeX/header.tex}

\title{Data visualization}
\author{\href{https://kbroman.org}{Karl Broman}}
\institute{Biostatistics \& Medical Informatics, UW{\textendash}Madison}
\date{\href{https://kbroman.org}{\tt \scriptsize \color{foreground} kbroman.org}
\\[-4pt]
\href{https://github.com/kbroman}{\tt \scriptsize \color{foreground} github.com/kbroman}
\\[-4pt]
\href{https://twitter.com/kwbroman}{\tt \scriptsize \color{foreground} @kwbroman}
\\[-4pt]
{\scriptsize Course web: \href{https://kbroman.org/AdvData}{\tt kbroman.org/AdvData}}
}


\begin{document}


{
\setbeamertemplate{footline}{} % no page number here
\frame{
  \titlepage

\note{
  My goal in this lecture is to explain some basic principles of data
  visualization. My focus here is on simple graphs with not too many
  data points.
}
} }


\begin{frame}{Displaying data well}

\bbi
\item Be accurate and clear.

\item Let the data speak.

\bi
\item Show as much information as possible, taking care not to
  obscure the message.
\ei

\item Science not sales.

\bi
\item Avoid unnecessary frills (esp. gratuitous 3d).
\ei

\item In tables, every digit should be meaningful. Don't drop ending 0's.
\ei

\note{
    The key principles of data visualization for us are to be
    accurate and clear, and to let the data speak. We want to show as
    much information as possible, but to a point: we don't want to
    obscure the message.

    For data scientists, this should be about science rather than
    sales. You want to focus on conveying the truth not persuading or
    arguing a particular angle. And you want to avoid unnecessary
    frills. That's not to say that good graphs can't be pretty, but
    they should be over-the-top with junk that gets in the way of
    presenting the data, like gratuitous 3-dimensional rendering.

    In tables, every digit should be meaningful, but you shouldn't
    drop ending zeros as they indicate precision.
}
\end{frame}




\begin{frame}[c]{Show the data}

\begin{columns}
\column{0.5\textwidth}

\figw{Figs/fig1a.png}{1.0}


\column{0.5\textwidth}

\only<1|handout 0>{\figw{Figs/fig1c.png}{1.0}}
\only<2|handout 0>{\figw{Figs/fig1d.png}{1.0}}
\only<3>{\figw{Figs/fig1e.png}{1.0}}
\only<4|handout 0>{\figw{Figs/fig1f.png}{1.0}}
\only<5|handout 0>{\figw{Figs/fig1g.png}{1.0}}
\only<6|handout 0>{\figw{Figs/fig1h.png}{1.0}}


\end{columns}

\note{
  First, show the data. Particularly in a case like this where you
  have just a few data points in each of two groups, it would be a
  shame to not show the actual data. Bar plots with antennas give you
  just a couple of numbers, and 3-dimensional bars make it hard even
  to see them. In the figure on the right, the bars are sitting in
  front of the axis, and so you need to project back in order to
  figure out what the numbers are.

  There's a lot of fancy stuff that you can do in Excel. But is it
  helping the reader to better understand the data, or is it making it
  harder?
}

\end{frame}




\begin{frame}[c]{Avoid pie charts}


\begin{columns}
\column{0.5\textwidth}

\figw{Figs/fig2a_rev.png}{1.0}


\column{0.5\textwidth}

\only<1|handout 0>{\figw{Figs/fig2c.png}{1.0}}
\only<2|handout 0>{\figw{Figs/fig2d.png}{1.0}}
\only<3>{\figw{Figs/fig2e.png}{1.0}}

\end{columns}

\note{

}
\end{frame}





\begin{frame}{Avoid pie charts}

\only<1|handout 0>{\figh{Figs/piecharts.pdf}{0.81}}
\only<2|handout 0>{\figh{Figs/piecharts_3d.pdf}{0.81}}
\only<3>{\figh{Figs/piecharts_3d_w_bars.pdf}{0.81}}
\only<4|handout 0>{\figh{Figs/piecharts_w_bars.pdf}{0.81}}

\bigskip

\hfill \lolit \footnotesize
via \href{https://twitter.com/MonaChalabi/status/527121946073632768/photo/1}{\tt @MonaChalabi}
(\href{https://bit.ly/pie_vs_barchart}{\tt bit.ly/pie\_vs\_barchart})

\note{
}
\end{frame}






\begin{frame}{Consider logs}

\begin{columns}
\column{0.5\textwidth}

\figw{Figs/fig3a.png}{1.0}


\column{0.5\textwidth}

\only<1>{\figw{Figs/fig3b.png}{1.0}}
\only<2|handout 0>{\figw{Figs/fig3c.png}{1.0}}
\only<3|handout 0>{\figw{Figs/fig3d.png}{1.0}}

\end{columns}

\note{

}
\end{frame}



\begin{frame}[c]{Consider logs}

\only<1|handout 0>{\figh{Figs/fig5c.png}{0.85}}
\only<2|handout 0>{\figh{Figs/fig5d.png}{0.85}}
\only<3>{\figh{Figs/fig5e.png}{0.85}}
\only<4|handout 0>{\figh{Figs/fig5f.png}{0.85}}
\only<5|handout 0>{\figh{Figs/fig5b.png}{0.85}}

\note{
}
\end{frame}





\begin{frame}[c]{Consider differences}

\figh{Figs/fig5a.png}{0.85}

\note{
}
\end{frame}



\begin{frame}[c]{Another ``{\hilit take logs}'' example}

\figh{Figs/broman_fig1.jpg}{0.80}

\vfill \hfill \footnotesize \lolit
Broman et al., Am J Hum Genet 63:861-869, 1998, Fig. 1

\note{
  }
\end{frame}





\begin{frame}{Ease comparisons}

\hilit (things to be compared should be adjacent)

\bigskip

\figw{Figs/ease_comparisons_1.pdf}{1.0}

\note{
}
\end{frame}





\begin{frame}{Ease comparisons}

\hilit (add a bit of color)

\bigskip

\figw{Figs/ease_comparisons_2.pdf}{1.0}

\note{
}
\end{frame}




\begin{frame}[c]{Which comparison is easiest?}

\figw{Figs/which_comparison.pdf}{1.0}

\note{
}
\end{frame}


\begin{frame}{Don't distort the quantities}

{\hilit
  \only<1>{(value $\propto$ radius)}
  \only<2|handout 0>{(value $\propto$ area)}
}

\bigskip

\only<1>{\figh{Figs/circles_1.pdf}{0.75}}
\only<2|handout 0>{\figh{Figs/circles_2.pdf}{0.75}}

\note{
}
\end{frame}



\begin{frame}{Don't use areas at all}

{\hilit
  (value $\propto$ height)
}

\bigskip

\figh{Figs/circles_3.pdf}{0.75}

\note{
}
\end{frame}





\begin{frame}{Encoding data}

\begin{columns}
\column{0.5\textwidth}

{\hilit Quantities}

\bi
\item Position
\item Length
\item Angle
\item Area
\item Luminance {\lolit (light/dark)}
\item Chroma {\lolit (amount of color)}
\ei

\column{0.5\textwidth}

{\hilit Categories}

\bi
\item Shape
\item Hue {\lolit (which color)}
\item Texture
\item Width
\ei

  \end{columns}

\note{
}
\end{frame}




\begin{frame}{Ease comparisons}

{\hilit (align axes)}

\figh{Figs/histograms_1.pdf}{0.85}

\note{
}
\end{frame}




\begin{frame}{Ease comparisons}

{\hilit (use common axes)}

\figh{Figs/histograms_2.pdf}{0.85}

\note{
}
\end{frame}







\begin{frame}[c]{Use labels not legends}

\figw{Figs/direct_labels.pdf}{1.0}

\note{
}
\end{frame}





\begin{frame}[c]{Don't sort alphabetically}

\figw{Figs/alphabet.pdf}{1.0}

\note{
}
\end{frame}





\begin{frame}[c]{Must you include 0?}

\figw{Figs/include_zero.pdf}{1.0}

\note{
}
\end{frame}




\begin{frame}[c]{A bad table}

\figh{Figs/tableB.png}{0.7}

\note{
}
\end{frame}


\begin{frame}[c]{Fewer digits}

\figh{Figs/tableA.png}{0.7}

\note{
}
\end{frame}





\begin{frame}[c]{Yuck!}

\only<1>{\figh{Figs/lancet_table.pdf}{0.8}}
\only<2|handout 0>{\figh{Figs/lancet_table_crop.png}{0.8}}

\vspace{12pt}
\lolit \footnotesize \hfill
Feigen et al., Lancet 383:245-255, 2014, Table 1

\note{
}
\end{frame}

\begin{frame}{What was wrong with that?}

  \bbi
\item {\vhilit Way} too many digits.

\item Numbers aren't aligned.

\item Numbers to be compared aren't anywhere near each other.

\item The interesting comparisons are horizontal rather than
  vertical.

\item It would be much better as a multi-panel figure.
\ei

\note{
}
\end{frame}


\begin{frame}{One last example}

\begin{columns}

\column{0.12\textwidth}

\column{0.25\textwidth}

\figh{Crashes/Figs/chalabi-dearmona-distracted.png}{0.75}

\column{0.25\textwidth}

\figh{Crashes/Figs/chalabi-dearmona-speeding.png}{0.75}

\column{0.25\textwidth}

\figh{Crashes/Figs/chalabi-dearmona-drinking.png}{0.75}

\column{0.12\textwidth}

\end{columns}

\vspace{12pt}
\hfill \footnotesize \lolit
\href{https://fivethirtyeight.com/datalab/which-state-has-the-worst-drivers/}{\tt fivethirtyeight.com/datalab/which-state-has-the-worst-drivers}

\note{
}
\end{frame}


\begin{frame}[c]{An alternative}

\figh{Crashes/crashes.pdf}{0.85}

\note{
}
\end{frame}

\begin{frame}[c]{Scatterplots}

\figh{Crashes/crashes_scatter.pdf}{0.85}

\note{
}
\end{frame}



\begin{frame}{Summary I}

\bbi
\item Show the data

\item Avoid chart junk

\item Consider taking logs and/or differences

\item Put the things to be compared next to each other

\item Use color to set things apart, but consider color blind folks

\item Use position rather than angle or area to represent quantities
\ei

\note{
}
\end{frame}



\begin{frame}{Summary II}

\bbi
\item Align axes to ease comparisons

\item Use common axis limits to ease comparisons

\item Use labels rather than legends

\item Sort on meaningful variables (not alphabetically)

\item Must 0 be included in the axis limits?

\item Use scatterplots to explore relationships
\ei

\note{
}
\end{frame}





\begin{frame}{Inspirations}


\bbi
\item Hadley Wickham

\item Naomi Robbins

\item Howard Wainer

\item Andrew Gelman

\item Dan Carr

\item Edward Tufte
  \ei


  \note{
  }
\end{frame}





\begin{frame}{Further reading}

\vspace{-12pt}

  \bbi
\item ER Tufte (1983) The visual display of quantitative information.
Graphics Press.
\item ER Tufte (1990) Envisioning information. Graphics Press.
\item ER Tufte (1997) Visual explanations. Graphics Press.

\vspace{12pt}

\item A Gelman, C Pasarica, R Dodhia (2002) Let's practice what we preach:
Turning tables into graphs. The American Statistician 56:121-130

\vspace{12pt}

\item NB Robbins (2004) Creating more effective graphs. Wiley

\vspace{12pt}

\item Nature Methods columns: \href{https://bit.ly/points_of_view}{\tt bit.ly/points\_of\_view}
\ei

\note{
}
\end{frame}

\end{document}
